2021-08-03T09:21:41.164454188Z W0803 09:21:41.164298       1 etcd_env.go:287] cipher is not supported for use with etcd: "TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256"
2021-08-03T09:21:41.164577726Z W0803 09:21:41.164565       1 etcd_env.go:287] cipher is not supported for use with etcd: "TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305_SHA256"
2021-08-03T09:21:41.256457091Z I0803 09:21:41.256287       1 cmd.go:79] &{<nil> true {false} installer true map[cert-configmaps:0xc0008e2b40 cert-dir:0xc0008e2d20 cert-secrets:0xc0008e2aa0 configmaps:0xc0008e26e0 namespace:0xc0008e2500 pod:0xc0008e25a0 pod-manifest-dir:0xc0008e2960 resource-dir:0xc0008e28c0 revision:0xc0008e2460 secrets:0xc0008e2640 v:0xc00089f720] [0xc00089f720 0xc0008e2460 0xc0008e2500 0xc0008e25a0 0xc0008e28c0 0xc0008e2960 0xc0008e26e0 0xc0008e2640 0xc0008e2d20 0xc0008e2b40 0xc0008e2aa0] [] map[add-dir-header:0xc00089f040 alsologtostderr:0xc00089f0e0 cert-configmaps:0xc0008e2b40 cert-dir:0xc0008e2d20 cert-secrets:0xc0008e2aa0 configmaps:0xc0008e26e0 help:0xc000650000 kubeconfig:0xc0008e23c0 log-backtrace-at:0xc00089f180 log-dir:0xc00089f220 log-file:0xc00089f2c0 log-file-max-size:0xc00089f360 log-flush-frequency:0xc0003601e0 logtostderr:0xc00089f400 namespace:0xc0008e2500 one-output:0xc00089f4a0 optional-cert-configmaps:0xc0008e2c80 optional-cert-secrets:0xc0008e2be0 optional-configmaps:0xc0008e2820 optional-secrets:0xc0008e2780 pod:0xc0008e25a0 pod-manifest-dir:0xc0008e2960 resource-dir:0xc0008e28c0 revision:0xc0008e2460 secrets:0xc0008e2640 skip-headers:0xc00089f540 skip-log-headers:0xc00089f5e0 stderrthreshold:0xc00089f680 timeout-duration:0xc0008e2a00 v:0xc00089f720 vmodule:0xc00089f7c0] [0xc0008e23c0 0xc0008e2460 0xc0008e2500 0xc0008e25a0 0xc0008e2640 0xc0008e26e0 0xc0008e2780 0xc0008e2820 0xc0008e28c0 0xc0008e2960 0xc0008e2a00 0xc0008e2aa0 0xc0008e2b40 0xc0008e2be0 0xc0008e2c80 0xc0008e2d20 0xc00089f040 0xc00089f0e0 0xc00089f180 0xc00089f220 0xc00089f2c0 0xc00089f360 0xc0003601e0 0xc00089f400 0xc00089f4a0 0xc00089f540 0xc00089f5e0 0xc00089f680 0xc00089f720 0xc00089f7c0 0xc000650000] [0xc00089f040 0xc00089f0e0 0xc0008e2b40 0xc0008e2d20 0xc0008e2aa0 0xc0008e26e0 0xc000650000 0xc0008e23c0 0xc00089f180 0xc00089f220 0xc00089f2c0 0xc00089f360 0xc0003601e0 0xc00089f400 0xc0008e2500 0xc00089f4a0 0xc0008e2c80 0xc0008e2be0 0xc0008e2820 0xc0008e2780 0xc0008e25a0 0xc0008e2960 0xc0008e28c0 0xc0008e2460 0xc0008e2640 0xc00089f540 0xc00089f5e0 0xc00089f680 0xc0008e2a00 0xc00089f720 0xc00089f7c0] map[104:0xc000650000 118:0xc00089f720] [] -1 0 0xc0005fa870 true <nil> []}
2021-08-03T09:21:41.256529107Z I0803 09:21:41.256506       1 cmd.go:80] (*installerpod.InstallOptions)(0xc0008d8c00)({
2021-08-03T09:21:41.256529107Z  KubeConfig: (string) "",
2021-08-03T09:21:41.256529107Z  KubeClient: (kubernetes.Interface) <nil>,
2021-08-03T09:21:41.256529107Z  Revision: (string) (len=1) "2",
2021-08-03T09:21:41.256529107Z  NodeName: (string) "",
2021-08-03T09:21:41.256529107Z  Namespace: (string) (len=14) "openshift-etcd",
2021-08-03T09:21:41.256529107Z  PodConfigMapNamePrefix: (string) (len=8) "etcd-pod",
2021-08-03T09:21:41.256529107Z  SecretNamePrefixes: ([]string) (len=1 cap=1) {
2021-08-03T09:21:41.256529107Z   (string) (len=14) "etcd-all-certs"
2021-08-03T09:21:41.256529107Z  },
2021-08-03T09:21:41.256529107Z  OptionalSecretNamePrefixes: ([]string) <nil>,
2021-08-03T09:21:41.256529107Z  ConfigMapNamePrefixes: ([]string) (len=5 cap=8) {
2021-08-03T09:21:41.256529107Z   (string) (len=8) "etcd-pod",
2021-08-03T09:21:41.256529107Z   (string) (len=15) "etcd-serving-ca",
2021-08-03T09:21:41.256529107Z   (string) (len=19) "etcd-peer-client-ca",
2021-08-03T09:21:41.256529107Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2021-08-03T09:21:41.256529107Z   (string) (len=28) "etcd-metrics-proxy-client-ca"
2021-08-03T09:21:41.256529107Z  },
2021-08-03T09:21:41.256529107Z  OptionalConfigMapNamePrefixes: ([]string) <nil>,
2021-08-03T09:21:41.256529107Z  CertSecretNames: ([]string) (len=1 cap=1) {
2021-08-03T09:21:41.256529107Z   (string) (len=14) "etcd-all-certs"
2021-08-03T09:21:41.256529107Z  },
2021-08-03T09:21:41.256529107Z  OptionalCertSecretNamePrefixes: ([]string) <nil>,
2021-08-03T09:21:41.256529107Z  CertConfigMapNamePrefixes: ([]string) (len=6 cap=8) {
2021-08-03T09:21:41.256529107Z   (string) (len=16) "restore-etcd-pod",
2021-08-03T09:21:41.256529107Z   (string) (len=12) "etcd-scripts",
2021-08-03T09:21:41.256529107Z   (string) (len=15) "etcd-serving-ca",
2021-08-03T09:21:41.256529107Z   (string) (len=19) "etcd-peer-client-ca",
2021-08-03T09:21:41.256529107Z   (string) (len=29) "etcd-metrics-proxy-serving-ca",
2021-08-03T09:21:41.256529107Z   (string) (len=28) "etcd-metrics-proxy-client-ca"
2021-08-03T09:21:41.256529107Z  },
2021-08-03T09:21:41.256529107Z  OptionalCertConfigMapNamePrefixes: ([]string) <nil>,
2021-08-03T09:21:41.256529107Z  CertDir: (string) (len=47) "/etc/kubernetes/static-pod-resources/etcd-certs",
2021-08-03T09:21:41.256529107Z  ResourceDir: (string) (len=36) "/etc/kubernetes/static-pod-resources",
2021-08-03T09:21:41.256529107Z  PodManifestDir: (string) (len=25) "/etc/kubernetes/manifests",
2021-08-03T09:21:41.256529107Z  Timeout: (time.Duration) 2m0s,
2021-08-03T09:21:41.256529107Z  PodMutationFns: ([]installerpod.PodMutationFunc) <nil>
2021-08-03T09:21:41.256529107Z })
2021-08-03T09:21:41.314116582Z I0803 09:21:41.314072       1 cmd.go:253] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-2" ...
2021-08-03T09:21:41.314202187Z I0803 09:21:41.314187       1 cmd.go:181] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-pod-2" ...
2021-08-03T09:21:41.314215121Z I0803 09:21:41.314202       1 cmd.go:189] Getting secrets ...
2021-08-03T09:21:41.356280651Z I0803 09:21:41.356233       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs-2
2021-08-03T09:21:41.356483700Z I0803 09:21:41.356461       1 cmd.go:202] Getting config maps ...
2021-08-03T09:21:41.371275098Z I0803 09:21:41.371236       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca-2
2021-08-03T09:21:41.387981839Z I0803 09:21:41.387927       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca-2
2021-08-03T09:21:41.418632792Z I0803 09:21:41.418577       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca-2
2021-08-03T09:21:41.469553719Z I0803 09:21:41.469507       1 copy.go:60] Got configMap openshift-etcd/etcd-pod-2
2021-08-03T09:21:41.514506139Z I0803 09:21:41.514457       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca-2
2021-08-03T09:21:41.514617807Z I0803 09:21:41.514600       1 cmd.go:221] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs" ...
2021-08-03T09:21:41.514786538Z I0803 09:21:41.514768       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000004-x.ec2.internal.key" ...
2021-08-03T09:21:41.514928064Z I0803 09:21:41.514911       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key" ...
2021-08-03T09:21:41.515078340Z I0803 09:21:41.515057       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000006-x.ec2.internal.key" ...
2021-08-03T09:21:41.515191649Z I0803 09:21:41.515175       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000004-x.ec2.internal.crt" ...
2021-08-03T09:21:41.515360858Z I0803 09:21:41.515342       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000006-x.ec2.internal.crt" ...
2021-08-03T09:21:41.516556148Z I0803 09:21:41.516516       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000001-x.ec2.internal.crt" ...
2021-08-03T09:21:41.516681646Z I0803 09:21:41.516664       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000004-x.ec2.internal.key" ...
2021-08-03T09:21:41.516815598Z I0803 09:21:41.516799       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000004-x.ec2.internal.crt" ...
2021-08-03T09:21:41.516914098Z I0803 09:21:41.516899       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000006-x.ec2.internal.crt" ...
2021-08-03T09:21:41.517027422Z I0803 09:21:41.517010       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000006-x.ec2.internal.crt" ...
2021-08-03T09:21:41.517129663Z I0803 09:21:41.517115       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000001-x.ec2.internal.key" ...
2021-08-03T09:21:41.517246623Z I0803 09:21:41.517232       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000004-x.ec2.internal.key" ...
2021-08-03T09:21:41.517343536Z I0803 09:21:41.517330       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000001-x.ec2.internal.key" ...
2021-08-03T09:21:41.517439704Z I0803 09:21:41.517425       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000006-x.ec2.internal.key" ...
2021-08-03T09:21:41.517568742Z I0803 09:21:41.517518       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000006-x.ec2.internal.key" ...
2021-08-03T09:21:41.517676814Z I0803 09:21:41.517661       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000004-x.ec2.internal.crt" ...
2021-08-03T09:21:41.517770901Z I0803 09:21:41.517757       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt" ...
2021-08-03T09:21:41.517864642Z I0803 09:21:41.517850       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000001-x.ec2.internal.crt" ...
2021-08-03T09:21:41.517994466Z I0803 09:21:41.517979       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-metrics-proxy-client-ca" ...
2021-08-03T09:21:41.518097395Z I0803 09:21:41.518083       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2021-08-03T09:21:41.518193853Z I0803 09:21:41.518181       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-metrics-proxy-serving-ca" ...
2021-08-03T09:21:41.518261200Z I0803 09:21:41.518248       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2021-08-03T09:21:41.518352413Z I0803 09:21:41.518340       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-peer-client-ca" ...
2021-08-03T09:21:41.518413315Z I0803 09:21:41.518401       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2021-08-03T09:21:41.518501823Z I0803 09:21:41.518489       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-pod" ...
2021-08-03T09:21:41.518561197Z I0803 09:21:41.518549       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-pod/version" ...
2021-08-03T09:21:41.518643451Z I0803 09:21:41.518630       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-pod/forceRedeploymentReason" ...
2021-08-03T09:21:41.518763251Z I0803 09:21:41.518746       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-pod/pod.yaml" ...
2021-08-03T09:21:41.518870116Z I0803 09:21:41.518856       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-serving-ca" ...
2021-08-03T09:21:41.518935032Z I0803 09:21:41.518922       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-pod-2/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2021-08-03T09:21:41.519061453Z I0803 09:21:41.519047       1 cmd.go:181] Creating target resource directory "/etc/kubernetes/static-pod-resources/etcd-certs" ...
2021-08-03T09:21:41.519142646Z I0803 09:21:41.519131       1 cmd.go:189] Getting secrets ...
2021-08-03T09:21:41.567530152Z I0803 09:21:41.567490       1 copy.go:32] Got secret openshift-etcd/etcd-all-certs
2021-08-03T09:21:41.567723048Z I0803 09:21:41.567709       1 cmd.go:202] Getting config maps ...
2021-08-03T09:21:41.585270638Z I0803 09:21:41.585219       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-client-ca
2021-08-03T09:21:41.613223636Z I0803 09:21:41.613182       1 copy.go:60] Got configMap openshift-etcd/etcd-metrics-proxy-serving-ca
2021-08-03T09:21:41.632116154Z I0803 09:21:41.632072       1 copy.go:60] Got configMap openshift-etcd/etcd-peer-client-ca
2021-08-03T09:21:41.671141200Z I0803 09:21:41.671092       1 copy.go:60] Got configMap openshift-etcd/etcd-scripts
2021-08-03T09:21:41.894287535Z I0803 09:21:41.894241       1 copy.go:60] Got configMap openshift-etcd/etcd-serving-ca
2021-08-03T09:21:42.126430307Z I0803 09:21:42.126374       1 copy.go:60] Got configMap openshift-etcd/restore-etcd-pod
2021-08-03T09:21:42.126571866Z I0803 09:21:42.126542       1 cmd.go:221] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs" ...
2021-08-03T09:21:42.126736236Z I0803 09:21:42.126721       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000006-x.ec2.internal.key" ...
2021-08-03T09:21:42.126883659Z I0803 09:21:42.126855       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000004-x.ec2.internal.crt" ...
2021-08-03T09:21:42.127101192Z I0803 09:21:42.127081       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000006-x.ec2.internal.key" ...
2021-08-03T09:21:42.127229192Z I0803 09:21:42.127214       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000006-x.ec2.internal.crt" ...
2021-08-03T09:21:42.127391642Z I0803 09:21:42.127377       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000006-x.ec2.internal.crt" ...
2021-08-03T09:21:42.128400923Z I0803 09:21:42.128376       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000006-x.ec2.internal.key" ...
2021-08-03T09:21:42.128540884Z I0803 09:21:42.128526       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000001-x.ec2.internal.crt" ...
2021-08-03T09:21:42.128649604Z I0803 09:21:42.128636       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000001-x.ec2.internal.key" ...
2021-08-03T09:21:42.128780908Z I0803 09:21:42.128767       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key" ...
2021-08-03T09:21:42.128887528Z I0803 09:21:42.128873       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000004-x.ec2.internal.key" ...
2021-08-03T09:21:42.129045315Z I0803 09:21:42.129029       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000006-x.ec2.internal.crt" ...
2021-08-03T09:21:42.129174998Z I0803 09:21:42.129161       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000004-x.ec2.internal.crt" ...
2021-08-03T09:21:42.129287565Z I0803 09:21:42.129273       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000004-x.ec2.internal.key" ...
2021-08-03T09:21:42.129419241Z I0803 09:21:42.129405       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000001-x.ec2.internal.key" ...
2021-08-03T09:21:42.129527829Z I0803 09:21:42.129514       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt" ...
2021-08-03T09:21:42.129648026Z I0803 09:21:42.129634       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000001-x.ec2.internal.crt" ...
2021-08-03T09:21:42.129757601Z I0803 09:21:42.129744       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000004-x.ec2.internal.key" ...
2021-08-03T09:21:42.129877120Z I0803 09:21:42.129849       1 cmd.go:413] Writing secret manifest "/etc/kubernetes/static-pod-resources/etcd-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000004-x.ec2.internal.crt" ...
2021-08-03T09:21:42.130000121Z I0803 09:21:42.129986       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca" ...
2021-08-03T09:21:42.130121669Z I0803 09:21:42.130099       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-client-ca/ca-bundle.crt" ...
2021-08-03T09:21:42.130219325Z I0803 09:21:42.130206       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca" ...
2021-08-03T09:21:42.130308789Z I0803 09:21:42.130295       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt" ...
2021-08-03T09:21:42.130397364Z I0803 09:21:42.130385       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca" ...
2021-08-03T09:21:42.130453422Z I0803 09:21:42.130441       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt" ...
2021-08-03T09:21:42.130603022Z I0803 09:21:42.130589       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts" ...
2021-08-03T09:21:42.130669438Z I0803 09:21:42.130657       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-restore.sh" ...
2021-08-03T09:21:42.130771431Z I0803 09:21:42.130758       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd-common-tools" ...
2021-08-03T09:21:42.130859086Z I0803 09:21:42.130846       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/etcd.env" ...
2021-08-03T09:21:42.131015030Z I0803 09:21:42.130960       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-scripts/cluster-backup.sh" ...
2021-08-03T09:21:42.131110746Z I0803 09:21:42.131097       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca" ...
2021-08-03T09:21:42.131177218Z I0803 09:21:42.131165       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/etcd-serving-ca/ca-bundle.crt" ...
2021-08-03T09:21:42.131266842Z I0803 09:21:42.131253       1 cmd.go:237] Creating directory "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod" ...
2021-08-03T09:21:42.131327800Z I0803 09:21:42.131315       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/version" ...
2021-08-03T09:21:42.131412776Z I0803 09:21:42.131400       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/forceRedeploymentReason" ...
2021-08-03T09:21:42.131494682Z I0803 09:21:42.131481       1 cmd.go:403] Writing config file "/etc/kubernetes/static-pod-resources/etcd-certs/configmaps/restore-etcd-pod/pod.yaml" ...
2021-08-03T09:21:42.131600240Z I0803 09:21:42.131571       1 cmd.go:295] Getting pod configmaps/etcd-pod-2 -n openshift-etcd
2021-08-03T09:21:42.353651568Z I0803 09:21:42.353606       1 cmd.go:330] Writing pod manifest "/etc/kubernetes/static-pod-resources/etcd-pod-2/etcd-pod.yaml" ...
2021-08-03T09:21:42.353749955Z I0803 09:21:42.353734       1 cmd.go:336] Creating directory for static pod manifest "/etc/kubernetes/manifests" ...
2021-08-03T09:21:42.353811478Z I0803 09:21:42.353761       1 cmd.go:347] Writing static pod manifest "/etc/kubernetes/manifests/etcd-pod.yaml" ...
2021-08-03T09:21:42.353811478Z {"kind":"Pod","apiVersion":"v1","metadata":{"name":"etcd","namespace":"openshift-etcd","uid":"1b7d5f6f-3c18-4363-ab21-54b5bec152c8","creationTimestamp":null,"labels":{"app":"etcd","etcd":"true","k8s-app":"etcd","revision":"2"},"annotations":{"target.workload.openshift.io/management":"{\"effect\": \"PreferredDuringScheduling\"}"}},"spec":{"volumes":[{"name":"static-pod-dir","hostPath":{"path":"/etc/kubernetes/manifests"}},{"name":"resource-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-pod-2"}},{"name":"cert-dir","hostPath":{"path":"/etc/kubernetes/static-pod-resources/etcd-certs"}},{"name":"data-dir","hostPath":{"path":"/var/lib/etcd","type":""}},{"name":"usr-local-bin","hostPath":{"path":"/usr/local/bin"}},{"name":"log-dir","hostPath":{"path":"/var/log/etcd"}}],"initContainers":[{"name":"setup","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153","command":["/bin/sh","-c","#!/bin/sh\necho -n \"Fixing etcd log permissions.\"\nchmod 0700 /var/log/etcd \u0026\u0026 touch /var/log/etcd/etcd-health-probe.log \u0026\u0026 chmod 0600 /var/log/etcd/*\n"],"resources":{"requests":{"cpu":"5m","memory":"50Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-ensure-env-vars","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\n: \"${NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST?not set}\"\n: \"${NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME?not set}\"\n: \"${NODE_ip_10_0_187_218_ec2_internal_IP?not set}\"\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_187_218_ec2_internal_IP}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_187_218_ec2_internal_IP}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected node IP to be ${NODE_IP} got ${NODE_ip_10_0_187_218_ec2_internal_IP}\" \u003e\u00262\n  exit 1\nfi\n\n# check for ipv4 addresses as well as ipv6 addresses with extra square brackets\nif [[ \"${NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST}\" != \"${NODE_IP}\" \u0026\u0026 \"${NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST}\" != \"[${NODE_IP}]\" ]]; then\n  # echo the error message to stderr\n  echo \"Expected etcd url host to be ${NODE_IP} got ${NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST}\" \u003e\u00262\n  exit 1\nfi\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379,https://x-ipv4-000017-x:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"7516192768"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000001-x.ec2.internal"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_187_218_ec2_internal_IP","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000004-x.ec2.internal"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_IP","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000006-x.ec2.internal"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000003-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_IP","value":"x-ipv4-000003-x"},{"name":"NODE_IP","valueFrom":{"fieldRef":{"fieldPath":"status.podIP"}}}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-resources-copy","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nrm -f $(grep -l '^### Created by cluster-etcd-operator' /usr/local/bin/*)\ncp -p /etc/kubernetes/static-pod-certs/configmaps/etcd-scripts/*.sh /usr/local/bin\n"],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"usr-local-bin","mountPath":"/usr/local/bin"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}}],"containers":[{"name":"etcdctl","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153","command":["/bin/bash","-c","trap TERM INT; sleep infinity \u0026 wait"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379,https://x-ipv4-000017-x:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"7516192768"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000001-x.ec2.internal"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_187_218_ec2_internal_IP","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000004-x.ec2.internal"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_IP","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_E2021-08-03T09:21:42.353837326Z TCD_NAME","value":"ip-x-ipv4-000006-x.ec2.internal"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000003-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_IP","value":"x-ipv4-000003-x"},{"name":"ETCD_STATIC_POD_VERSION","value":"2"}],"resources":{"requests":{"cpu":"10m","memory":"60Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"},{"name":"etcd","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\netcdctl member list || true\n\n# this has a non-zero return code if the command is non-zero.  If you use an export first, it doesn't and you\n# will succeed when you should fail.\nETCD_INITIAL_CLUSTER=$(discover-etcd-initial-cluster \\\n  --cacert=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --cert=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt \\\n  --key=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key \\\n  --endpoints=${ALL_ETCD_ENDPOINTS} \\\n  --data-dir=/var/lib/etcd \\\n  --target-peer-url-host=${NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST} \\\n  --target-name=ip-x-ipv4-000001-x.ec2.internal)\nexport ETCD_INITIAL_CLUSTER\n\n# we cannot use the \"normal\" port conflict initcontainer because when we upgrade, the existing static pod will never yield,\n# so we do the detection in etcd container itself.\necho -n \"Waiting for ports 2379, 2380 and 9978 to be released.\"\ntime while [ -n \"$(ss -Htan '( sport = 2379 or sport = 2380 or sport = 9978 )')\" ]; do\n  echo -n \".\"\n  sleep 1\ndone\n\nexport ETCD_NAME=${NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME}\nenv | grep ETCD | grep -v NODE\n\nset -x\n# See https://etcd.io/docs/v3.4.0/tuning/ for why we use ionice\nexec ionice -c2 -n0 etcd \\\n  --logger=zap \\\n  --log-level=info \\\n  --initial-advertise-peer-urls=https://${NODE_ip_10_0_187_218_ec2_internal_IP}:2380 \\\n  --cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000001-x.ec2.internal.crt \\\n  --key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-ip-x-ipv4-000001-x.ec2.internal.key \\\n  --trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt \\\n  --client-cert-auth=true \\\n  --peer-cert-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt \\\n  --peer-key-file=/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key \\\n  --peer-trusted-ca-file=/etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --peer-client-cert-auth=true \\\n  --advertise-client-urls=https://${NODE_ip_10_0_187_218_ec2_internal_IP}:2379,unixs://${NODE_ip_10_0_187_218_ec2_internal_IP}:0 \\\n  --listen-client-urls=https://0.0.0.0:2379,unixs://${NODE_ip_10_0_187_218_ec2_internal_IP}:0 \\\n  --listen-peer-urls=https://0.0.0.0:2380 \\\n  --listen-metrics-urls=https://0.0.0.0:9978 ||  mv /etc/kubernetes/etcd-backup-dir/etcd-member.yaml /etc/kubernetes/manifests\n"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379,https://x-ipv4-000017-x:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"7516192768"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000001-x.ec2.internal"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_187_218_ec2_internal_IP","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000004-x.ec2.internal"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_IP","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000006-x.ec2.internal"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000003-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_IP","value":"x-ipv4-000003-x"},{"name":"ETCD_STATIC_POD_VERSION","value":"2"}],"resources":{"requests":{"cpu":"300m","memory":"600Mi"}},"volumeMounts":[{"name":"static-pod-dir","mountPath":"/etc/kubernetes/manifests"},{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"readinessProbe":{"exec":{"command":["/bin/bash","-c","set -xe\n\n# Unix sockets are used for health checks to ensure that the pod is reporting readiness of the etcd process\n# in this container. While this might seem unnecessary the use of SO_REUSEADDR has made this explicitly\n# required as the kernel will allow the reuse of a port while in TIME_WAIT. etcd requires socket\n# path in this format \u003cname\u003e:\u003cport\u003e so port 0 is used only to meet this requirement.\nunset ETCDCTL_ENDPOINTS\n/usr/bin/etcdctl \\\n  --command-timeout=2s \\\n  --dial-timeout=2s \\\n  --endpoints=unixs://${NODE_ip_10_0_187_218_ec2_internal_IP}:0 \\\n  endpoint health -w json | grep \\\"health\\\":true\n"]},"initialDelaySeconds":3,"timeoutSeconds":5,"periodSeconds":5,"successThreshold":1,"failureThreshold":3},"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-metrics","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153","command":["/bin/sh","-c","#!/bin/sh\nset -euo pipefail\n\nexport ETCD_NAME=${NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME}\n\nexec etcd grpc-proxy start \\\n  --endpoints https://${NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST}:9978 \\\n  --metrics-addr https://0.0.0.0:9979 \\\n  --listen-addr 127.0.0.1:9977 \\\n  --key /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key \\\n  --key-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000001-x.ec2.internal.key \\\n  --cert /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt \\\n  --cert-file /etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-serving-metrics-ip-x-ipv4-000001-x.ec2.internal.crt \\\n  --cacert /etc/kubernetes/static-pod-certs/configmaps/etcd-peer-client-ca/ca-bundle.crt \\\n  --trusted-ca-file /etc/kubernetes/static-pod-certs/configmaps/etcd-metrics-proxy-serving-ca/ca-bundle.crt\n"],"env":[{"name":"ALL_ETCD2021-08-03T09:21:42.353855737Z _ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379,https://x-ipv4-000017-x:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"7516192768"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000001-x.ec2.internal"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_187_218_ec2_internal_IP","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000004-x.ec2.internal"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_IP","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000006-x.ec2.internal"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000003-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_IP","value":"x-ipv4-000003-x"},{"name":"ETCD_STATIC_POD_VERSION","value":"2"}],"resources":{"requests":{"cpu":"40m","memory":"200Mi"}},"volumeMounts":[{"name":"resource-dir","mountPath":"/etc/kubernetes/static-pod-resources"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"},{"name":"data-dir","mountPath":"/var/lib/etcd/"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent","securityContext":{"privileged":true}},{"name":"etcd-health-monitor","image":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:272b194c6889337ce2315fa4da7c2f033203fe33f2753025813f6a49b318c8f9","command":["cluster-etcd-operator","monitor"],"args":["--targets=$(ETCDCTL_ENDPOINTS)","--probe-interval=1s","--log-outputs=stderr","--log-outputs=/var/log/etcd/etcd-health-probe.log","--enable-log-rotation","--pod-name=$(POD_NAME)","--static-pod-version=$(ETCD_STATIC_POD_VERSION)","--cert-file=$(ETCDCTL_CERT)","--key-file=$(ETCDCTL_KEY)","--cacert-file=$(ETCDCTL_CACERT)"],"env":[{"name":"ALL_ETCD_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379,https://x-ipv4-000017-x:2379"},{"name":"ETCDCTL_API","value":"3"},{"name":"ETCDCTL_CACERT","value":"/etc/kubernetes/static-pod-certs/configmaps/etcd-serving-ca/ca-bundle.crt"},{"name":"ETCDCTL_CERT","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.crt"},{"name":"ETCDCTL_ENDPOINTS","value":"https://x-ipv4-000002-x:2379,https://x-ipv4-000005-x:2379,https://x-ipv4-000003-x:2379"},{"name":"ETCDCTL_KEY","value":"/etc/kubernetes/static-pod-certs/secrets/etcd-all-certs/etcd-peer-ip-x-ipv4-000001-x.ec2.internal.key"},{"name":"ETCD_CIPHER_SUITES","value":"TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384"},{"name":"ETCD_DATA_DIR","value":"/var/lib/etcd"},{"name":"ETCD_ELECTION_TIMEOUT","value":"1000"},{"name":"ETCD_ENABLE_PPROF","value":"true"},{"name":"ETCD_EXPERIMENTAL_WATCH_PROGRESS_NOTIFY_INTERVAL","value":"5s"},{"name":"ETCD_HEARTBEAT_INTERVAL","value":"100"},{"name":"ETCD_IMAGE","value":"quay.io/openshift-release-dev/ocp-v4.0-art-dev@sha256:7ab0346b7ff58de373ea380dd6c38242741b5323698c30030094c33913876153"},{"name":"ETCD_INITIAL_CLUSTER_STATE","value":"existing"},{"name":"ETCD_QUOTA_BACKEND_BYTES","value":"7516192768"},{"name":"ETCD_SOCKET_REUSE_ADDRESS","value":"true"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000001-x.ec2.internal"},{"name":"NODE_ip_10_0_187_218_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_187_218_ec2_internal_IP","value":"x-ipv4-000002-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000004-x.ec2.internal"},{"name":"NODE_ip_10_0_189_142_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_189_142_ec2_internal_IP","value":"x-ipv4-000005-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_NAME","value":"ip-x-ipv4-000006-x.ec2.internal"},{"name":"NODE_ip_10_0_195_177_ec2_internal_ETCD_URL_HOST","value":"x-ipv4-000003-x"},{"name":"NODE_ip_10_0_195_177_ec2_internal_IP","value":"x-ipv4-000003-x"},{"name":"ETCD_STATIC_POD_VERSION","value":"2"},{"name":"OPENSHIFT_PROFILE","value":"web"},{"name":"POD_NAME","valueFrom":{"fieldRef":{"fieldPath":"metadata.name"}}}],"resources":{"requests":{"cpu":"50m","memory":"70Mi"}},"volumeMounts":[{"name":"log-dir","mountPath":"/var/log/etcd/"},{"name":"cert-dir","mountPath":"/etc/kubernetes/static-pod-certs"}],"terminationMessagePolicy":"FallbackToLogsOnError","imagePullPolicy":"IfNotPresent"}],"hostNetwork":true,"tolerations":[{"operator":"Exists"}],"priorityClassName":"system-node-critical"},"status":{}}
